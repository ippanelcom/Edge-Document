# ุงุฑุณุงู ูพุงูฺฉ ูุธุฑ ุจู ูุธุฑ

ุงู API ุจู ุดูุง ุงูฺฉุงู ุงุฑุณุงู ฺูุฏู ูพุงู ุจู ฺูุฏู ฺฏุฑูุฏู ุฏุฑ ูุงูุจ ูุธุฑ ุจู ูุธุฑ ุฑุง ูโุฏูุฏ. ูุฑ ูพุงู ูโุชูุงูุฏ ูุฌููุนู ฺฏุฑูุฏฺฏุงู
ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ.

## ๐ ููฺฉ ุฏุณุชุฑุณ

```
POST {base_url}/api/send
```

## ๐งพ ูุฏุฑูุง ุฏุฑุฎูุงุณุช

| ฺฉูุฏ          | ููุฏุงุฑ               |
|---------------|---------------------|
| Authorization | ุชูฺฉู ุง ฺฉูุฏ ุฏุณุชุฑุณ |
| Content-Type  | application/json    |

## ๐ค ุจุฏูู ุฏุฑุฎูุงุณุช

```json
{
  "sending_type": "peer_to_peer",
  "from_number": "+983000505",
  "params": [
    {
      "recipients": [
        "+989120000000",
        "+989350000000"
      ],
      "message": "ูพุงู ุงูู"
    },
    {
      "recipients": [
        "+989130000000"
      ],
      "message": "ูพุงู ุฏูู"
    }
  ]
}
```

## ๐ ูพุงุฑุงูุชุฑูุง

| ูพุงุฑุงูุชุฑ      | ููุน    | ุถุฑูุฑ | ุชูุถุญุงุช                                                                              |
|--------------|--------|-------|--------------------------------------------------------------------------------------|
| sending_type | string | ุจูู   | ููุน ุงุฑุณุงูุ ุจุงุฏ "peer_to_peer" ุจุงุดุฏ                                                  |
| from_number  | string | ุจูู   | ุดูุงุฑู ูุฑุณุชูุฏู ุฏุฑ ูุฑูุช E.164 (ูุซุงู: +983000505)                                       |
| params       | array  | ุจูู   | ุขุฑุงูโุง ุงุฒ ุงุดุงุก ุดุงูู ฺฏุฑูุฏฺฏุงู ู ูพุงูโูุง                                            |
| recipients   | array  | ุจูู   | ูุณุช ุดูุงุฑู ุชููู ฺฏุฑูุฏฺฏุงู ุฏุฑ ูุฑูุช E.164 (ูุซุงู: +989120000000)                         |
| message      | string | ุจูู   | ูุชู ูพุงู ฺฉู ูุฎูุงูุฏ ุงุฑุณุงู ููุงุฏ. ุงู ูุชู ูุจุงุฏ ุจุด ุงุฒ 1400 ฺฉุงุฑฺฉุชุฑ ุง 20 ูพุงุฑุช ุจุงุดุฏ |
| send_time    | string | ุฎุฑ   | ุฒูุงู ููุฑุฏ ูุธุฑ ุจุฑุง ุงุฑุณุงู ูพุงู ุฏุฑ ูุฑูุช YYYY-MM-DD HH:MM:SS. ููุทูู ุฒูุงู UTC ุงุณุช.      |

## ๐ ูฺฉุงุช

- `from_number` ุจุงุฏ ุณุฑุดูุงุฑู ูุนุชุจุฑ ุจุงุดุฏ ฺฉู ุจู ุญุณุงุจ ุดูุง ุงุฎุชุตุงุต ุงูุชู ุงุณุช.
- ูุฑ ุด ุฏุฑ ุขุฑุงู `params` ูโุชูุงูุฏ ฺฏุฑูุฏฺฏุงู ู ูพุงู ููุญุตุฑ ุจู ูุฑุฏ ุฎูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ.
- ุชูุงู ุดูุงุฑู ุชูููโูุง ุจุงุฏ ุฏุฑ ูุฑูุช E.164 ุจุงุดูุฏ.

## โ ูพุงุณุฎ ูููู

```json
{
  "data": {
    "message_outbox_ids": [
      1123544244,
      1123544245
    ]
  },
  "meta": {
    "status": true,
    "message": "ุงูุฌุงู ุดุฏ",
    "message_parameters": [],
    "message_code": "200-1"
  }
}
```

## โ ูพุงุณุฎ ุฎุทุง โ ุชูฺฉู ุง ฺฉูุฏ ุฏุณุชุฑุณ ูุงูุนุชุจุฑ ุง ูููุถ ุดุฏู (401)

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "ุงุทูุงุนุงุช ูุงุฑุฏ ุดุฏู ุตุญุญ ูู ุจุงุดุฏ",
    "message_parameters": [],
    "message_code": "400-1",
    "errors": {}
  }
}
```

## โ ูพุงุณุฎ ุฎุทุง โ ุฏุฑุฎูุงุณุช ูุงูุนุชุจุฑ (422)

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "ุชฺฉูู ฺฏุฒูู ูพุงู ุงูุฒุงู ุงุณุช",
    "message_parameters": [],
    "message_code": "400-2",
    "errors": {
      "message": [
        "ุชฺฉูู ฺฏุฒูู ูพุงู ุงูุฒุงู ุงุณุช"
      ]
    }
  }
}
```

## ๐งช ููููู ุฏุฑุฎูุงุณุช

```bash
curl --location '{base_url}/api/send' \
--header 'Content-Type: application/json' \
--header 'Authorization: API TOKEN' \
--data '{
    "sending_type": "peer_to_peer",
    "from_number": "+983000505",
    "params": [
        {
            "recipients": [
                "+989120000000",
                "+989350000000"
            ],
            "message": "ูพุงู ุงูู"
        },
        {
            "recipients": [
                "+989130000000"
            ],
            "message": "ูพุงู ุฏูู"
        }
    ]
}'
```
