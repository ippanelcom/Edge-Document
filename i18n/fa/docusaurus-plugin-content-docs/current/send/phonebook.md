# ุงุฑุณุงู ูพุงูฺฉ ุฏูุชุฑฺู ุชููู

ุงู API ุจู ุดูุง ุงูฺฉุงู ุงุฑุณุงู ูพุงู ุจู ฺฉ ุง ฺูุฏ ุฏูุชุฑฺู ุชููู ุฑุง ูโุฏูุฏ.

## ๐ ููฺฉ ุฏุณุชุฑุณ

```
POST {base_url}/api/send
```

## ๐งพ ูุฏุฑูุง ุฏุฑุฎูุงุณุช

| ฺฉูุฏ          | ููุฏุงุฑ               |
|---------------|---------------------|
| Authorization | ุชูฺฉู ุง ฺฉูุฏ ุฏุณุชุฑุณ |
| Content-Type  | application/json    |

## ๐ค ุจุฏูู ุฏุฑุฎูุงุณุช

```json
{
  "sending_type": "phonebook",
  "from_number": "+983000505",
  "message": "ุชุณุช",
  "params": [
    {
      "phonebook_ids": [
        "123654"
      ],
      "type": "all",
      "start": "1",
      "size": "2"
    },
    {
      "phonebook_id": "456987",
      "type": "detail",
      "number_ids": [
        "123",
        "456",
        "789"
      ]
    }
  ]
}
```

## ๐ ูพุงุฑุงูุชุฑูุง

| ูพุงุฑุงูุชุฑ       | ููุน    | ุถุฑูุฑ                 | ุชูุถุญุงุช                                                                              |
|---------------|--------|-----------------------|--------------------------------------------------------------------------------------|
| sending_type  | string | ุจูู                   | ููุน ุงุฑุณุงูุ ุจุงุฏ "phonebook" ุจุงุดุฏ                                                     |
| from_number   | string | ุจูู                   | ุดูุงุฑู ูุฑุณุชูุฏู ุฏุฑ ูุฑูุช E.164 (ูุซุงู: +983000505)                                       |
| message       | string | ุจูู                   | ูุชู ูพุงู ฺฉู ูุฎูุงูุฏ ุงุฑุณุงู ููุงุฏ. ุงู ูุชู ูุจุงุฏ ุจุด ุงุฒ 1400 ฺฉุงุฑฺฉุชุฑ ุง 20 ูพุงุฑุช ุจุงุดุฏ |
| params        | array  | ุจูู                   | ุขุฑุงูโุง ุงุฒ ุงุดุงุก ุดุงูู ุชูุธูุงุช ุฏูุชุฑฺู ุชููู                                           |
| phonebook_ids | array  | ุจูู (ุจุฑุง ููุน all)    | ูุณุช ุดูุงุณูโูุง ุฏูุชุฑฺู ุชููู                                                           |
| phonebook_id  | string | ุจูู (ุจุฑุง ููุน detail) | ุดูุงุณู ุฏูุชุฑฺู ุชููู                                                                    |
| type          | string | ุจูู                   | ููุน ุงุฑุณุงู: "all" ุจุฑุง ููู ูุฎุงุทุจูุ "detail" ุจุฑุง ูุฎุงุทุจู ุฎุงุต                         |
| start         | string | ุฎุฑ                   | ุดูุงุฑู ุฑุฏู ุดุฑูุน (ููุท ุจุฑุง ููุน all)                                                   |
| size          | string | ุฎุฑ                   | ุชุนุฏุงุฏ ูุฎุงุทุจู ุจุฑุง ุงุฑุณุงู (ููุท ุจุฑุง ููุน all)                                          |
| number_ids    | array  | ุจูู (ุจุฑุง ููุน detail) | ูุณุช ุดูุงุณูโูุง ุดูุงุฑูโูุง ุฎุงุต                                                         |
| send_time     | string | ุฎุฑ                   | ุฒูุงู ููุฑุฏ ูุธุฑ ุจุฑุง ุงุฑุณุงู ูพุงู ุฏุฑ ูุฑูุช YYYY-MM-DD HH:MM:SS. ููุทูู ุฒูุงู UTC ุงุณุช.      |

## ๐ ุงููุงุน ุงุฑุณุงู

### ููุน "all"

ุจุฑุง ุงุฑุณุงู ุจู ููู ูุฎุงุทุจู ุฏูุชุฑฺู ุชููู ุง ุจุฎุด ุงุฒ ุขูโูุง:

- `phonebook_ids`: ูุณุช ุดูุงุณูโูุง ุฏูุชุฑฺู ุชููู
- `start`: ุดูุงุฑู ุฑุฏู ุดุฑูุน (ุงุฎุชุงุฑ)
- `size`: ุชุนุฏุงุฏ ูุฎุงุทุจู (ุงุฎุชุงุฑ)

### ููุน "detail"

ุจุฑุง ุงุฑุณุงู ุจู ูุฎุงุทุจู ุฎุงุต:

- `phonebook_id`: ุดูุงุณู ุฏูุชุฑฺู ุชููู
- `number_ids`: ูุณุช ุดูุงุณูโูุง ุดูุงุฑูโูุง ุฎุงุต

## ๐ ูฺฉุงุช

- `from_number` ุจุงุฏ ุณุฑุดูุงุฑู ูุนุชุจุฑ ุจุงุดุฏ ฺฉู ุจู ุญุณุงุจ ุดูุง ุงุฎุชุตุงุต ุงูุชู ุงุณุช.
- ุฏูุชุฑฺู ุชูููโูุง ุจุงุฏ ุงุฒ ูุจู ุฏุฑ ุณุณุชู ุชุนุฑู ุดุฏู ุจุงุดูุฏ.
- ุจุฑุง ููุน "all"ุ ุงฺฏุฑ `start` ู `size` ูุดุฎุต ูุดููุฏุ ุจู ููู ูุฎุงุทุจู ุงุฑุณุงู ูโุดูุฏ.
- ุชุนุฏุงุฏ ูพุงุฑุงูุชุฑูุง ุฏุงุฎู ุขุฑุงู `params` ูุจุงุฏ ุจุด ุงุฒ 100 ุนุฏุฏ ุจุงุดุฏ
## โ ูพุงุณุฎ ูููู

```json
{
  "data": {
    "message_outbox_ids": [
      1123544244
    ]
  },
  "meta": {
    "status": true,
    "message": "ุงูุฌุงู ุดุฏ",
    "message_parameters": [],
    "message_code": "200-1"
  }
}
```

## โ ูพุงุณุฎ ุฎุทุง โ ุฏูุชุฑฺู ุชููู ุงูุช ูุดุฏ (404)

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "ุฏูุชุฑฺู ุชููู ุงูุช ูุดุฏ",
    "message_parameters": [],
    "message_code": "404-1",
    "errors": {}
  }
}
```

## ๐งช ููููู ุฏุฑุฎูุงุณุช

```bash
curl --location '{base_url}/api/send' \
--header 'Content-Type: application/json' \
--header 'Authorization: API TOKEN' \
--data '{
    "sending_type": "phonebook",
    "from_number": "+983000505",
    "message": "ุชุณุช",
    "params": [
        {
            "phonebook_ids": [
                "123654"
            ],
            "type": "all",
            "start": "1",
            "size": "2"
        }
    ]
}'
```
