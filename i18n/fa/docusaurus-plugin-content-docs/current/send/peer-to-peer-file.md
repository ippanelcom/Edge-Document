# ุงุฑุณุงู ูพุงูฺฉ ูุธุฑ ุจู ูุธุฑ ุจุง ูุงู

ุงู API ุจู ุดูุง ุงูฺฉุงู ุงุฑุณุงู ฺูุฏู ูพุงู ุจู ฺูุฏู ฺฏุฑูุฏู ุฏุฑ ูุงูุจ ูุธุฑ ุจู ูุธุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงู ุฑุง ูโุฏูุฏ. ูุฑ ูพุงู
ูโุชูุงูุฏ ูุฌููุนู ฺฏุฑูุฏฺฏุงู ุฎุงุต ุฎูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ.

## ๐ ููฺฉ ุฏุณุชุฑุณ

```
POST {base_url}/api/send
```

## ๐งพ ูุฏุฑูุง ุฏุฑุฎูุงุณุช

| ฺฉูุฏ          | ููุฏุงุฑ               |
|---------------|---------------------|
| Authorization | ุชูฺฉู ุง ฺฉูุฏ ุฏุณุชุฑุณ |
| Content-Type  | multipart/form-data |

## ๐ค ุจุฏูู ุฏุฑุฎูุงุณุช

```json
{
  "sending_type": "peer_to_peer_file",
  "from_number": "+983000505",
  "send_time": "2025-03-12 21:20:02",
  "files[]": "file.csv"
}
```

ุงู ุฏุฑุฎูุงุณุช ุงุฒ ูุฑูุช `multipart/form-data` ุจุฑุง ูุฏุฑุช ุขูพููุฏ ูุงู ุงุณุชูุงุฏู ูโฺฉูุฏ.

| ูพุงุฑุงูุชุฑ      | ููุน    | ุถุฑูุฑ | ุชูุถุญุงุช                                                                             |
|--------------|--------|-------|-------------------------------------------------------------------------------------|
| sending_type | string | ุจูู   | ููุน ุงุฑุณุงูุ ุจุงุฏ "peer_to_peer_file" ุจุงุดุฏ                                            |
| from_number  | string | ุจูู   | ุดูุงุฑู ูุฑุณุชูุฏู ุฏุฑ ูุฑูุช E.164 (ูุซุงู: +983000505)                                      |
| send_time    | string | ุฎุฑ   | ุฒูุงู ููุฑุฏ ูุธุฑ ุจุฑุง ุงุฑุณุงู ูพุงู ุฏุฑ ูุฑูุช YYYY-MM-DD HH:MM:SS. ููุทูู ุฒูุงู UTC ุงุณุช.     |
| files[]      | file   | ุจูู   | ูุงู ุดุงูู ุดูุงุฑู ฺฏุฑูุฏฺฏุงู ู ูพุงูโูุง ุดุฎุตโุณุงุฒ ุดุฏู. ูุฑูุชโูุง ูพุดุชุจุงู ุดุฏู: CSVุ XLSX |

### ูุฑูุช ูุงู

ูุงู ุขูพููุฏ ุดุฏู ุจุงุฏ ุงุฒ ุงู ูุฑูุช ูพุฑู ฺฉูุฏ:

#### ูุฑูุช CSV

```
recipient,message
09123456789,ูพุงู ุดุฎุตโุณุงุฒ ุดุฏู ุจุฑุง ฺฏุฑูุฏู ุงูู
09123456788,ูพุงู ุดุฎุตโุณุงุฒ ุดุฏู ุจุฑุง ฺฏุฑูุฏู ุฏูู
09123456787,ูพุงู ุดุฎุตโุณุงุฒ ุดุฏู ุจุฑุง ฺฏุฑูุฏู ุณูู
```

#### ูุฑูุช ุงฺฉุณู

ูุงู ุงฺฉุณู ุจุงุฏ ุฏู ุณุชูู ุฏุงุดุชู ุจุงุดุฏ:

- ุณุชูู A: ุดูุงุฑู ฺฏุฑูุฏฺฏุงู
- ุณุชูู B: ูพุงูโูุง ูุฑุจูุท ุจู ูุฑ ฺฏุฑูุฏู

## ๐ ูฺฉุงุช

- `from_number` ุจุงุฏ ุณุฑุดูุงุฑู ูุนุชุจุฑ ุจุงุดุฏ ฺฉู ุจู ุญุณุงุจ ุดูุง ุงุฎุชุตุงุต ุงูุชู ุงุณุช.
- ูุงู ุจุงุฏ ุญุฏุงฺฉุซุฑ 10000 ุฑุฏู ุฏุงุดุชู ุจุงุดุฏ.
- ุดูุงุฑู ุชูููโูุง ูโุชูุงููุฏ ุฏุฑ ูุฑูุช ูุญู (09xxxxxxxxx) ุง ุจูโุงูููู (+98xxxxxxxxx) ุจุงุดูุฏ.
- ูุฑ ุฑุฏู ุฏุฑ ูุงู ฺฉ ูพุงู ุฌุฏุงฺฏุงูู ุฑุง ููุงูุฏฺฏ ูโฺฉูุฏ ู ฺฉุฏ ูพฺฏุฑ ุฎุงุต ุฎูุฏ ุฑุง ุฎูุงูุฏ ุฏุงุดุช

## โ ูพุงุณุฎ ูููู

```json
{
  "data": {
    "message_outbox_ids": [
      1123544244,
      1123544245,
      1123544246
    ]
  },
  "meta": {
    "status": true,
    "message": "ุงูุฌุงู ุดุฏ",
    "message_parameters": [],
    "message_code": "200-1"
  }
}
```

## โ ูพุงุณุฎ ุฎุทุง โ ูุงู ูุงูุนุชุจุฑ (422)

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "ูุฑูุช ูุงู ูพุดุชุจุงู ููโุดูุฏ",
    "message_parameters": [],
    "message_code": "400-2",
    "errors": {
      "files": [
        "ูุฑูุช ูุงู ูพุดุชุจุงู ููโุดูุฏ"
      ]
    }
  }
}
```

## ๐งช ููููู ุฏุฑุฎูุงุณุช

```bash
curl --location '{base_url}/api/send' \
--header 'Authorization: API TOKEN' \
--form 'sending_type="peer_to_peer_file"' \
--form 'from_number="+983000505"' \
--form 'send_time="2025-03-12 21:20:02"' \
--form 'files[]=@"path/to/your/file.csv"'
```
