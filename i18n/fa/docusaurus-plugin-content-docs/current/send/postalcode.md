# ุงุฑุณุงู ูพุงูฺฉ ุจุง ฺฉุฏ ูพุณุช

ุงู API ุจู ุดูุง ุงูฺฉุงู ุงุฑุณุงู ูพุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏูุง ูพุณุช ุฑุง ูโุฏูุฏ.

## ๐ ููฺฉ ุฏุณุชุฑุณ

```
POST {base_url}/api/send
```

## ๐งพ ูุฏุฑูุง ุฏุฑุฎูุงุณุช

| ฺฉูุฏ          | ููุฏุงุฑ               |
|---------------|---------------------|
| Authorization | ุชูฺฉู ุง ฺฉูุฏ ุฏุณุชุฑุณ |
| Content-Type  | application/json    |

## ๐ค ุจุฏูู ุฏุฑุฎูุงุณุช

```json
{
  "sending_type": "postal_code",
  "from_number": "+98BANK",
  "message": "ูุชู ูพุงู",
  "params": [
    {
      "bank": "all",
      "postal_code": 131,
      "gender": 0,
      "age_from": 1330,
      "age_to": 1402,
      "mci": {
        "start": 0,
        "size": 1
      },
      "irancell": {
        "start": 0,
        "size": 0
      },
      "other": {
        "start": 0,
        "size": 0
      }
    },
    {
      "bank": "all",
      "postal_code": 141,
      "gender": 0,
      "age_from": 1330,
      "age_to": 1402,
      "mci": {
        "start": 0,
        "size": 1
      },
      "irancell": {
        "start": 0,
        "size": 0
      },
      "other": {
        "start": 0,
        "size": 0
      }
    }
  ],
  "other_recipients": [
    "+989120000000",
    "+989350000000"
  ],
  "send_time": "2025-02-28 10:52:02"
}
```

## ๐ ูพุงุฑุงูุชุฑูุง

| ูพุงุฑุงูุชุฑ      | ููุน     | ุถุฑูุฑ | ุชูุถุญุงุช                                                                              |
|--------------|---------|-------|--------------------------------------------------------------------------------------|
| sending_type | string  | ุจูู   | ููุน ุงุฑุณุงูุ ุจุงุฏ "postal_code" ุจุงุดุฏ                                                   |
| from_number  | string  | ุจูู   | ุดูุงุฑู ูุฑุณุชูุฏู ุฏุฑ ูุฑูุช E.164 (ูุซุงู: +983000505)                                       |
| message      | string  | ุจูู   | ูุชู ูพุงู ฺฉู ูุฎูุงูุฏ ุงุฑุณุงู ููุงุฏ. ุงู ูุชู ูุจุงุฏ ุจุด ุงุฒ 1400 ฺฉุงุฑฺฉุชุฑ ุง 20 ูพุงุฑุช ุจุงุดุฏ |
| params       | array   | ุจูู   | ุขุฑุงูโุง ุงุฒ ุงุดุงุก ุดุงูู ุชูุธูุงุช ฺฉุฏ ูพุณุช                                               |
| bank         | string  | ุจูู   | ููุน ุจุงูฺฉ ุงุทูุงุนุงุช: "all" ุจุฑุง ููู                                                    |
| postal_code  | integer | ุจูู   | ฺฉุฏ ูพุณุช ููุฑุฏ ูุธุฑ                                                                     |
| gender       | integer | ุฎุฑ   | ุฌูุณุช: 0 ุจุฑุง ูููุ 1 ุจุฑุง ูุฑุฏุ 2 ุจุฑุง ุฒู                                             |
| age_from     | integer | ุฎุฑ   | ุณุงู ุชููุฏ ุดุฑูุน (ุดูุณ)                                                                 |
| age_to       | integer | ุฎุฑ   | ุณุงู ุชููุฏ ูพุงุงู (ุดูุณ)                                                                |
| mci          | object  | ุฎุฑ   | ุชูุธูุงุช ุงูพุฑุงุชูุฑ ููุฑุงู ุงูู ุดุงูู ุงุฒ ฺู ุฑุฏู ู ุจู ฺู ุชุนุฏุงุฏ                              |
| irancell     | object  | ุฎุฑ   | ุชูุธูุงุช ุงูพุฑุงุชูุฑ ุงุฑุงูุณู ุดุงูู ุงุฒ ฺู ุฑุฏู ู ุจู ฺู ุชุนุฏุงุฏ                                |
| other        | object  | ุฎุฑ   | ุชูุธูุงุช ุณุงุฑ ุงูพุฑุงุชูุฑูุง ุดุงูู ุงุฒ ฺู ุฑุฏู ู ุจู ฺู ุชุนุฏุงุฏ                                 |
| start        | integer | ุฎุฑ   | ุดูุงุฑู ุฑุฏู ุดุฑูุน                                                                      |
| size         | integer | ุฎุฑ   | ุชุนุฏุงุฏ ุดูุงุฑูโูุง ููุฑุฏ ูุธุฑ                                                             |
| send_time    | string  | ุฎุฑ   | ุฒูุงู ููุฑุฏ ูุธุฑ ุจุฑุง ุงุฑุณุงู ูพุงู ุฏุฑ ูุฑูุช YYYY-MM-DD HH:MM:SS. ููุทูู ุฒูุงู UTC ุงุณุช.      |

## ๐ ุชูุธูุงุช ุงูพุฑุงุชูุฑ

ูุฑ ุงูพุฑุงุชูุฑ ุดุงูู ุฏู ูพุงุฑุงูุชุฑ ุงุณุช:

- `start`: ุดูุงุฑู ุฑุฏู ุดุฑูุน (ูพุดโูุฑุถ: 0)
- `size`: ุชุนุฏุงุฏ ุดูุงุฑูโูุง ููุฑุฏ ูุธุฑ (ูพุดโูุฑุถ: 0)

## ๐ ูฺฉุงุช

- `from_number` ุจุงุฏ ุณุฑุดูุงุฑู ูุนุชุจุฑ ุจุงุดุฏ ฺฉู ุจู ุญุณุงุจ ุดูุง ุงุฎุชุตุงุต ุงูุชู ุงุณุช.
- ฺฉุฏ ูพุณุช ุจุงุฏ ูุนุชุจุฑ ู ุฏุฑ ุณุณุชู ููุฌูุฏ ุจุงุดุฏ.
- ูโุชูุงูุฏ ุจุง ุชูุธู ูพุงุฑุงูุชุฑูุง ุฌูุณุช ู ุณูุ ูุฎุงุทุจู ุฑุง ููุชุฑ ฺฉูุฏ.
- ุงฺฏุฑ ูพุงุฑุงูุชุฑูุง ุงูพุฑุงุชูุฑ ุชูุธู ูุดููุฏุ ุจู ููู ุดูุงุฑูโูุง ุงุฑุณุงู ูโุดูุฏ.

## โ ูพุงุณุฎ ูููู

```json
{
  "data": {
    "message_outbox_ids": [
      1123544244
    ]
  },
  "meta": {
    "status": true,
    "message": "ุงูุฌุงู ุดุฏ",
    "message_parameters": [],
    "message_code": "200-1"
  }
}
```

## โ ูพุงุณุฎ ุฎุทุง โ ฺฉุฏ ูพุณุช ูุงูุนุชุจุฑ (422)

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "ฺฉุฏ ูพุณุช ูุงูุนุชุจุฑ ุงุณุช",
    "message_parameters": [],
    "message_code": "400-2",
    "errors": {
      "postal_code": [
        "ฺฉุฏ ูพุณุช ูุงูุนุชุจุฑ ุงุณุช"
      ]
    }
  }
}
```

## ๐งช ููููู ุฏุฑุฎูุงุณุช

```bash
curl --location '{base_url}/api/send' \
--header 'Content-Type: application/json' \
--header 'Authorization: API TOKEN' \
--data '{
    "sending_type": "postal_code",
    "from_number": "+98BANK",
    "message": "ูุชู ูพุงู",
    "params": [
        {
            "bank": "all",
            "postal_code": 131,
            "gender": 0,
            "age_from": 1330,
            "age_to": 1402,
            "mci": {
                "start": 0,
                "size": 1
            },
            "irancell": {
                "start": 0,
                "size": 0
            },
            "other": {
                "start": 0,
                "size": 0
            }
        },
        {
            "bank": "all",
            "postal_code": 141,
            "gender": 0,
            "age_from": 1330,
            "age_to": 1402,
            "mci": {
                "start": 0,
                "size": 1
            },
            "irancell": {
                "start": 0,
                "size": 0
            },
            "other": {
                "start": 0,
                "size": 0
            }
        }
    ],
    "other_recipients": [
        "+989120000000",
        "+989350000000"
    ],
    "send_time": "2025-02-28 10:52:02"
}'
```
