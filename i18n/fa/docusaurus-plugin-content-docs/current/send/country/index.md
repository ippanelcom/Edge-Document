# ุงุฑุณุงู ูพุงูฺฉ ุดูุฑ ู ุงุณุชุงู

ุงู API ุจู ุดูุง ุงูฺฉุงู ุงุฑุณุงู ูพุงู ุจู ุชูุงู ุดูุงุฑูโูุง ฺฉ ุงุณุชุงูุ ุดูุฑุณุชุงู ุง ุดูุฑ ุฎุงุต ุฑุง ูโุฏูุฏ.

## ๐ ููฺฉ ุฏุณุชุฑุณ

```
POST {base_url}/api/send
```

## ๐งพ ูุฏุฑูุง ุฏุฑุฎูุงุณุช

| ฺฉูุฏ          | ููุฏุงุฑ               |
|---------------|---------------------|
| Authorization | ุชูฺฉู ุง ฺฉูุฏ ุฏุณุชุฑุณ |
| Content-Type  | application/json    |

## ๐ค ุจุฏูู ุฏุฑุฎูุงุณุช

```json
{
  "sending_type": "country",
  "from_number": "+98BANK",
  "message": "ุชุณุช",
  "params": [
    {
      "bank": "all",
      "pre": 938,
      "province_id": 89,
      "county_id": 212,
      "city_id": 82,
      "gender": 0,
      "age_from": 1300,
      "age_to": 1401,
      "mci": {
        "start": 10,
        "size": 100
      },
      "irancell": {
        "start": 1,
        "size": 2
      },
      "other": {
        "start": 2,
        "size": 3
      }
    }
  ],
  "other_recipients": [
    "+989121111111",
    "+989351111111"
  ]
}
```

## ๐ ูพุงุฑุงูุชุฑูุง

| ูพุงุฑุงูุชุฑ          | ููุน     | ุถุฑูุฑ | ุชูุถุญุงุช                                                                              |
|------------------|---------|-------|--------------------------------------------------------------------------------------|
| sending_type     | string  | ุจูู   | ููุน ุงุฑุณุงูุ ุจุงุฏ "country" ุจุงุดุฏ                                                       |
| from_number      | string  | ุจูู   | ุดูุงุฑู ูุฑุณุชูุฏู ุฏุฑ ูุฑูุช E.164 (ูุซุงู: +983000505)                                       |
| message          | string  | ุจูู   | ูุชู ูพุงู ฺฉู ูุฎูุงูุฏ ุงุฑุณุงู ููุงุฏ. ุงู ูุชู ูุจุงุฏ ุจุด ุงุฒ 1400 ฺฉุงุฑฺฉุชุฑ ุง 20 ูพุงุฑุช ุจุงุดุฏ |
| params           | array   | ุจูู   | ุขุฑุงูโุง ุงุฒ ุงุดุงุก ุดุงูู ุชูุธูุงุช ุงุณุชุงู ู ุดูุฑ ู ุดูุฑุณุชุงู                                 |
| bank             | string  | ุจูู   | ููุน ุจุงูฺฉ ุงุทูุงุนุงุช: "all" ุจุฑุง ููู                                                    |
| pre              | integer | ุฎุฑ   | ูพุดโุดูุงุฑู ุง ฺฉู ูุฎูุงูุฏ ุงุฑุณุงู ุดูุง ููุท ุจู ุขู ูพุด ุดูุงุฑู ุงูุฌุงู ุดูุฏ                     |
| province_id      | integer | ุจูู   | ุดูุงุณู ุงุณุชุงู(ูุงุจู ุจุงุฒุงุจ ุงุฒ [ูุณุช ุงุณุชุงู ูุง](./province))                             |
| county_id        | integer | ุฎุฑ   | ุดูุงุณู ุดูุฑุณุชุงู(ูุงุจู ุจุงุฒุงุจ ุงุฒ [ูุณุช ุดูุฑุณุชุงู ูุง](./county))                           |
| city_id          | integer | ุฎุฑ   | ุดูุงุณู ุดูุฑ(ูุงุจู ุจุงุฒุงุจ ุงุฒ [ูุณุช ุดูุฑูุง](./city))                                      |
| gender           | integer | ุฎุฑ   | ุฌูุณุช: 0 ุจุฑุง ูููุ 1 ุจุฑุง ูุฑุฏุ 2 ุจุฑุง ุฒู                                             |
| age_from         | integer | ุฎุฑ   | ุณุงู ุชููุฏ ุดุฑูุน (ุดูุณ)                                                                 |
| age_to           | integer | ุฎุฑ   | ุณุงู ุชููุฏ ูพุงุงู (ุดูุณ)                                                                |
| mci              | object  | ุฎุฑ   | ุชูุธูุงุช ุงูพุฑุงุชูุฑ ููุฑุงู ุงูู                                                            |
| irancell         | object  | ุฎุฑ   | ุชูุธูุงุช ุงูพุฑุงุชูุฑ ุงุฑุงูุณู                                                              |
| other            | object  | ุฎุฑ   | ุชูุธูุงุช ุณุงุฑ ุงูพุฑุงุชูุฑูุง                                                               |
| start            | integer | ุฎุฑ   | ุดูุงุฑู ุฑุฏู ุดุฑูุน                                                                      |
| size             | integer | ุฎุฑ   | ุชุนุฏุงุฏ ุดูุงุฑูโูุง ููุฑุฏ ูุธุฑ                                                             |
| other_recipients | array   | ุฎุฑ   | ฺฏุฑูุฏฺฏุงู ุงุถุงู ุฏุฑ ูุฑูุช E.164                                                         |
| send_time        | string  | ุฎุฑ   | ุฒูุงู ููุฑุฏ ูุธุฑ ุจุฑุง ุงุฑุณุงู ูพุงู ุฏุฑ ูุฑูุช YYYY-MM-DD HH:MM:SS. ููุทูู ุฒูุงู UTC ุงุณุช.      |

## ๐ ุชูุธูุงุช ุงูพุฑุงุชูุฑ

ูุฑ ุงูพุฑุงุชูุฑ ุดุงูู ุฏู ูพุงุฑุงูุชุฑ ุงุณุช:

- `start`: ุดูุงุฑู ุฑุฏู ุดุฑูุน (ูพุดโูุฑุถ: 0)
- `size`: ุชุนุฏุงุฏ ุดูุงุฑูโูุง ููุฑุฏ ูุธุฑ (ูพุดโูุฑุถ: 0)

## ๐ ูฺฉุงุช

- `from_number` ุจุงุฏ ุณุฑุดูุงุฑู ูุนุชุจุฑ ุจุงุดุฏ ฺฉู ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูุง ุงุฎุชุตุงุต ุงูุชู ุงุณุช.
- ูโุชูุงูุฏ ุจุง ุชูุธู ูพุงุฑุงูุชุฑูุง ุฌูุณุช ู ุณูุ ูุฎุงุทุจู ุฑุง ููุชุฑ ฺฉูุฏ.
- ูโุชูุงูุฏ ููุท ุงุณุชุงูุ ุง ุงุณุชุงู ู ุดูุฑุณุชุงูุ ุง ูุฑ ุณู (ุงุณุชุงูุ ุดูุฑุณุชุงู ู ุดูุฑ) ุฑุง ูุดุฎุต ฺฉูุฏ.
- ุงฺฏุฑ ูพุงุฑุงูุชุฑูุง ุงูพุฑุงุชูุฑ ุชูุธู ูุดููุฏุ ุจู ููู ุดูุงุฑูโูุง ุงุฑุณุงู ุงูุฌุงู ูโุดูุฏ.

## โ ูพุงุณุฎ ูููู

```json
{
  "data": {
    "message_outbox_ids": [
      1123544244
    ]
  },
  "meta": {
    "status": true,
    "message": "ุงูุฌุงู ุดุฏ",
    "message_parameters": [],
    "message_code": "200-1"
  }
}
```

## โ ูพุงุณุฎ ุฎุทุง โ ููุทูู ูุงูุนุชุจุฑ (422)

```json
{
  "data": null,
  "meta": {
    "status": false,
    "message": "ููุทูู ุงูุชุฎุงุจ ูุงูุนุชุจุฑ ุงุณุช",
    "message_parameters": [],
    "message_code": "400-2",
    "errors": {
      "province_id": [
        "ููุทูู ุงูุชุฎุงุจ ูุงูุนุชุจุฑ ุงุณุช"
      ]
    }
  }
}
```

## ๐งช ููููู ุฏุฑุฎูุงุณุช

```bash
curl --location '{base_url}/api/send' \
--header 'Content-Type: application/json' \
--header 'Authorization: API TOKEN' \
--data '{
    "sending_type": "country",
    "from_number": "+98BANK",
    "message": "ุชุณุช",
    "params": [
        {
            "bank": "all",
            "province_id": 89,
            "gender": 0,
            "mci": {
                "start": 10,
                "size": 100
            }
        }
    ]
}'
```
