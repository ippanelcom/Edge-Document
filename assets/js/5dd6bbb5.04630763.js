"use strict";(self.webpackChunkdocusaurus_temp=self.webpackChunkdocusaurus_temp||[]).push([[2297],{5031:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"auth/confirm-otp","title":"Confirm OTP Login","description":"This endpoint is used to confirm the login process by verifying the OTP (from SMS or Google Authenticator).","source":"@site/docs/auth/confirm-otp.md","sourceDirName":"auth","slug":"/auth/confirm-otp","permalink":"/Edge-Document/docs/auth/confirm-otp","draft":false,"unlisted":false,"editUrl":"https://github.com/ippanelcom/Edge-Document/tree/main/docs/auth/confirm-otp.md","tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"Send SMS OTP","permalink":"/Edge-Document/docs/auth/sms-otp"},"next":{"title":"Forgot Password","permalink":"/Edge-Document/docs/auth/forgot-password"}}');var o=t(4848),s=t(8453);const i={},d="Confirm OTP Login",a={},l=[{value:"\ud83d\udccd Endpoint",id:"-endpoint",level:2},{value:"\ud83e\uddfe Headers",id:"-headers",level:2},{value:"\ud83d\udce4 Request Body",id:"-request-body",level:2},{value:"\ud83d\udcdd Parameters",id:"-parameters",level:2},{value:"\u2705 Success Response",id:"-success-response",level:2},{value:"Next Steps After Receiving the Token",id:"next-steps-after-receiving-the-token",level:2},{value:"Option 1: Use Your Own Frontend",id:"option-1-use-your-own-frontend",level:3},{value:"Option 2: Redirect to Our Frontend",id:"option-2-redirect-to-our-frontend",level:3},{value:"\u274c Error Response \u2014 Invalid or Expired Token or OTP (401)",id:"-error-response--invalid-or-expired-token-or-otp-401",level:2},{value:"\u274c Error Response \u2014 Validation Error (422)",id:"-error-response--validation-error-422",level:2},{value:"\ud83e\uddea Example Request",id:"-example-request",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"confirm-otp-login",children:"Confirm OTP Login"})}),"\n",(0,o.jsx)(n.p,{children:"This endpoint is used to confirm the login process by verifying the OTP (from SMS or Google Authenticator)."}),"\n",(0,o.jsx)(n.h2,{id:"-endpoint",children:"\ud83d\udccd Endpoint"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"POST {base_url}/api/acl/auth/confirm_otp\n"})}),"\n",(0,o.jsx)(n.h2,{id:"-headers",children:"\ud83e\uddfe Headers"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Key"}),(0,o.jsx)(n.th,{children:"Value"})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Content-Type"}),(0,o.jsx)(n.td,{children:"application/json"})]})})]}),"\n",(0,o.jsx)(n.h2,{id:"-request-body",children:"\ud83d\udce4 Request Body"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "token": "your-temporary-token",\n  "otp": "otp-code"\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-parameters",children:"\ud83d\udcdd Parameters"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Parameter"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"token"}),(0,o.jsx)(n.td,{children:"string"}),(0,o.jsx)(n.td,{children:"The temporary token received from the Login API"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"otp"}),(0,o.jsx)(n.td,{children:"string"}),(0,o.jsx)(n.td,{children:"The OTP received via SMS or generated from Google Authenticator"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"-success-response",children:"\u2705 Success Response"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "token": "22c392ffebe7286ee8021cfef7d7cad5",\n    "method": "login"\n  },\n  "meta": {\n    "status": true,\n    "message": "\u0627\u0646\u062c\u0627\u0645 \u0634\u062f",\n    "message_parameters": [],\n    "message_code": "200-1"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"\ud83c\udf89 The returned token is the final token that can be used to access authorized APIs."}),"\n",(0,o.jsx)(n.p,{children:"\u23f1 Valid for: 10 hours"}),"\n",(0,o.jsx)(n.h2,{id:"next-steps-after-receiving-the-token",children:"Next Steps After Receiving the Token"}),"\n",(0,o.jsx)(n.p,{children:"Once you receive the token at this step, you have two options to allow the user to continue working with the platform:"}),"\n",(0,o.jsx)(n.h3,{id:"option-1-use-your-own-frontend",children:"Option 1: Use Your Own Frontend"}),"\n",(0,o.jsx)(n.p,{children:"If you have implemented your own frontend using our APIs, simply use the returned token in the Authorization header for all subsequent API calls.\nThis way, you manage the user experience entirely within your own application."}),"\n",(0,o.jsx)(n.h3,{id:"option-2-redirect-to-our-frontend",children:"Option 2: Redirect to Our Frontend"}),"\n",(0,o.jsx)(n.p,{children:"Alternatively, you can redirect the user to our frontend, and let them continue directly in our panel.\nTo do this, just redirect the user to the following URL with the token obtained in this step:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"https://sms.your-domain/external-login?token={userToken}\n"})}),"\n",(0,o.jsx)(n.p,{children:"If the token is valid, the user will be automatically logged in and will have full access to the panel."}),"\n",(0,o.jsx)(n.h2,{id:"-error-response--invalid-or-expired-token-or-otp-401",children:"\u274c Error Response \u2014 Invalid or Expired Token or OTP (401)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "data": null,\n  "meta": {\n    "status": false,\n    "message": "\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u0635\u062d\u06cc\u062d \u0646\u0645\u06cc \u0628\u0627\u0634\u062f",\n    "message_parameters": [],\n    "message_code": "400-1",\n    "errors": {}\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-error-response--validation-error-422",children:"\u274c Error Response \u2014 Validation Error (422)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "data": null,\n  "meta": {\n    "status": false,\n    "message": "\u062a\u06a9\u0645\u06cc\u0644 \u06af\u0632\u06cc\u0646\u0647 otp \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a",\n    "message_parameters": [],\n    "message_code": "400-2",\n    "errors": {\n      "otp": [\n        "\u062a\u06a9\u0645\u06cc\u0644 \u06af\u0632\u06cc\u0646\u0647 otp \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a"\n      ]\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-example-request",children:"\ud83e\uddea Example Request"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl --location \'{base_url}/api/acl/auth/confirm_otp\' \\\n--header \'Content-Type: application/json\' \\\n--data \'{\n  "token": "your-login-step-token",\n  "otp": "otp-code"\n}\'\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>d});var r=t(6540);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);